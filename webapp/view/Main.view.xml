<mvc:View controllerName="com.yedas.mm.employees.controller.Main"
    xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core" displayBlock="true" xmlns:f="sap.ui.layout.form"
    xmlns="sap.m">
    <Page id="page" title="{i18n>title}">
        <content>
        <Panel expandable="true" expanded="true">
        	<headerToolbar>
			<OverflowToolbar active="true" press="onOverflowToolbarPress">
				<Title text="{i18n>EMPLOYEE}"/>
				<ToolbarSpacer />
				<Button id="btn_persAdd" text="{i18n>PERS_ADD}" icon="sap-icon://add-contact" type="Accept" enabled="true" press="onAddPers" />
			</OverflowToolbar>
		    </headerToolbar>
            <content>
                <f:SimpleForm id="SimpleFormChange354"
                    minWidth="1024"
                    maxContainerCols="2"
                    editable="true"
                    layout="ResponsiveGridLayout"
                    labelSpanL="3"
                    labelSpanM="3"
                    emptySpanL="4"
                    emptySpanM="4"
                    columnsL="1"
                    columnsM="1"
                    class="editableForm">
                    <f:content>
                        <Label required="true" text="{i18n>EMP_ID}"/>
                        <Input value="{mainModel>/Userid}" submit="onGetData" showValueHelp="true" valueHelpOnly="true" valueHelpRequest=".handleValueHelpRequest"/>
                        <Label required="false" text="{i18n>EMP_NAME}"/>
                        <Input value="{mainModel>/Username}"/>
                        <Label required="false" text="{i18n>EMP_SNAME}"/>
                        <Input value="{mainModel>/Usersname}"/>
                        <Label required="false" text="{i18n>EMP_DEP}"/>
                        <Input value="{mainModel>/Departman}"/>
                        <Label required="false" text="{i18n>EMP_CITY}"/>
                        <Select
                            id="id_citySelect"
                            selectedKey="{mainModel>/Bland}"
                            items="{
                                path: '/getCitiesSet'
                            }">
                                <core:Item key="{Fprcd}" text="{Bland}" />
				        </Select>
                        <!--<Input value="{mainModel>/City}"/>-->
                        <Label required="false" text="{i18n>EMP_STATU}"/>
                        <CheckBox text="{i18n>STATU}" selected="{mainModel>/persStatu}"/>
                    </f:content>
                </f:SimpleForm>
            </content>
        </Panel>
        <Table id="idEmployeesTable"
                noDataText="{i18n>NO_DATA}"
                items="{path: 'mainModel>/employees'}" 
                mode="SingleSelectMaster"
                itemPress="onSelectEmployees">
            <headerToolbar>
            <OverflowToolbar>
                <content>
                    <Title text="{i18n>EMPLOYEES}({mainModel>/count})" level="H2"/>
                </content>
            </OverflowToolbar>
            </headerToolbar>
            <columns>
                <Column>
                    <Text text="{i18n>PERNR}" />
                </Column>
                <Column>
                    <Text text="{i18n>NAME}" />
                </Column>
                 <Column demandPopin="true" minScreenWidth="Desktop">
                    <Text text="{i18n>SNAME}" />
                </Column>
                 <Column demandPopin="true" minScreenWidth="Desktop">
                    <Text text="{i18n>DEPARTMAN}" />
                </Column>
                <Column demandPopin="true" minScreenWidth="Desktop">
                    <Text text="{i18n>CITY}" />
                </Column>
                <Column demandPopin="true" minScreenWidth="Desktop">
                    <Text text="{i18n>STATU}" />
                </Column>
                <Column demandPopin="true" minScreenWidth="Desktop">
                    <Text text="" />
                </Column>
            </columns>
            <items>
            <ColumnListItem type="Active">
                <cells>
                    <ObjectIdentifier
                            title="{mainModel>Userid}"/>
                    <Text text="{mainModel>Username}" />
                    <Text text="{mainModel>Usersname}" />
                    <ObjectStatus
                        text="{mainModel>Departman}"
                        state="Information"/>
                    <ObjectStatus
                        text="{path:'mainModel>City', formatter : 'com.yedas.mm.demo.model.Formatter.getCity'}"
                        state="Information" />
                    <ObjectStatus
                        text="{path:'mainModel>Statu', formatter : 'com.yedas.mm.demo.model.Formatter.getStatu'}"
                        state="Information" />
                    <Button id="btn_persDel" icon="sap-icon://decline"   type="Reject" enabled="true" press="onDeletePers" />
                </cells>
            </ColumnListItem>
        </items>
        </Table>
        </content>
        <!--
        <footer>
			<Toolbar>
				<ToolbarSpacer/>
                <Button id="btn_persAll" text="{i18n>PERS_LOAD}" type="Accept" enabled="true" press="onLoadPers" />
				<Button id="btn_persAdd" text="{i18n>PERS_ADD}" icon="sap-icon://add-contact" type="Accept" enabled="true" press="onAddPers" />
                <Button id="btn_persUpd" text="{i18n>PERS_UPD}" type="Accept" enabled="true" press="onUpdatePers" />
                <Button id="btn_persDel" text="{i18n>PERS_DEL}" type="Accept" enabled="true" press="onDeletePers" />
				<Button id="btn_clear" text="{i18n>CLEAR}" type="Reject" enabled="true" press="onClear" class="sapUiTinyMarginBegin"/>
			</Toolbar>
		</footer>
        -->
    </Page>
</mvc:View>
